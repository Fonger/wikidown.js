<html><head><meta charset="utf-8"><link href="../static.css" rel="stylesheet"><title> javascript 套件的用法 -- ejs 樣板引擎</title></head><body><header><p><a href="../main/home.html">&lt;&lt;</a>  <a href="../ccc/home.html">陳鍾誠</a>  / <a href="../book/home.html">教科書</a>  / <a href="../wp/home.html">Web程式設計</a> </p></header><main><article><h1 id="javascriptejs">javascript 套件的用法 -- ejs 樣板引擎</h1>

<h2 id="">程式</h2>

<p>檔案：ejstest</p>

<pre><code class="javascript">var fs = require('fs');
var ejs = require('ejs');

var template = fs.readFileSync('book.ejs', 'utf8');

var html = ejs.render(template, {
    title: '天國來的鈔票', 
    chapter:['國王', '皇后', '大臣', '革命', '銀行家']}
);

console.log(html);
</code></pre>

<h2 id="">樣板</h2>

<p>檔案：book.ejs</p>

<pre><code class="javascript">&lt;h1&gt;&lt;%= title %&gt;&lt;/h1&gt;
&lt;ol&gt;
    &lt;% for(var i=0; i&lt;chapter.length; i++) { %&gt;
        &lt;li&gt;&lt;%= chapter[i] %&gt;&lt;/li&gt;
    &lt;% } %&gt;
&lt;/ol&gt;
</code></pre>

<h2 id="">執行結果</h2>

<pre><code>D:\git\ejs&gt;node ejstest
&lt;h1&gt;天國來的鈔票&lt;/h1&gt;
&lt;ol&gt;

        &lt;li&gt;國王&lt;/li&gt;

        &lt;li&gt;皇后&lt;/li&gt;

        &lt;li&gt;大臣&lt;/li&gt;

        &lt;li&gt;革命&lt;/li&gt;

        &lt;li&gt;銀行家&lt;/li&gt;

&lt;/ol&gt;
</code></pre>

<hr />

<p><center style="font-size:small;color:#888888">本文部份內容修改自 <a href="http://zh.wikipedia.org/">維基百科</a> ， 使用時請遵守 <a href="http://creativecommons.org/licenses/by-sa/3.0/tw/">姓名標示、相同方式分享</a> 授權。<br/> 雜誌編輯：  <a href="#ccc:home">陳鍾誠</a>  email: <a href="&#109;&#97;&#105;&#x6c;&#116;&#111;:&#99;&#x63;&#99;&#107;&#109;&#105;&#x74;&#64;&#103;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;">&#99;&#x63;&#99;&#107;&#109;&#105;&#x74;&#64;&#103;&#109;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;</a> </center></p></article></main></body></html>